<!--
  ~ Copyright (c) 2018 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<button ng-hide="{{disabled}}" type="button" class="btn btn-primary btn-xs" aria-hidden="true" ngf-multiple="{{multiple}}" ngf-select
        ngf-change="onFileSelect($files)" translate>file.upload.button
</button>

<table ng-show="files.length" class="table table-bordered table-striped">
  <thead>
  <tr>
    <th translate>data-access-request.default.documents.title</th>
    <th class="col-xs-2"><span class="pull-right" translate>file.upload.date</span></th>
    <th translate>size</th>
    <th ng-show="deleteAttachments" translate>actions</th>
  </tr>
  </thead>
  <tbody>
  <tr ng-repeat="file in files">
    <td>
      {{file.fileName}}
      <uib-progressbar ng-show="file.showProgressBar" class="progress-striped" value="file.progress">
        {{file.progress}}%
      </uib-progressbar>
    </td>
    <td>
      <span class="pull-right" ng-if="file.timestamps" title="{{ file.timestamps.created | amDateFormat: 'lll' }}">{{file.timestamps.created | amCalendar }}</span>
    </td>
    <td style="width:1%;">
        <span class="pull-right" style="white-space: nowrap;">
          {{file.size | bytes}}
        </span>
    </td>
    <td style="width:20px;" ng-show="deleteAttachments">
      <a ng-show="file.id" ng-click="deleteFile(file.id)" class="action">
        <i class="fa fa-trash-o"></i>
      </a>
      <a ng-show="file.tempId" ng-click="deleteTempFile(file.tempId)" class="action">
        <i class="fa fa-trash-o"></i>
      </a>
    </td>
  </tr>
  </tbody>
</table>
