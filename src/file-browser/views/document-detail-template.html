<!--
  ~ Copyright (c) 2018 OBiBa. All rights reserved.
  ~
  ~ This program and the accompanying materials
  ~ are made available under the terms of the GNU Public License v3.0.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="panel panel-default">
  <div class="panel-heading">
    <span>
      <span title="{{data.details.document.name}}">
        <i class="fa {{getDocumentIcon(data.details.document)}}"></i> {{truncate(data.details.document.name, 30)}}
      </span>
      <a href class="pull-right" ng-click="hideDetails()"><i class="fa fa-times"></i></a>
    </span>
  </div>
  <div class="panel-body">
    <div>
      <label class="text-muted no-margin">
        <small>{{'size' | translate}}</small>
      </label>
      <div>
        <span ng-if="!isFile(data.details.document)">{{data.details.document.size}} {{data.details.document.size === 1 ? 'item' : 'items' | translate}}</span>
        <span ng-if="isFile(data.details.document)">{{data.details.document.size | bytes}}</span>
        <a target="{{downloadTarget}}" ng-href="{{getDownloadUrl(data.details.document.path, data.document.keyToken)}}" class="hoffset2" title="{{'download' | translate}}" download>
          <span><i class="fa fa-download"></i><span class="hoffset2"></span></span>
        </a>
      </div>
    </div>

    <div class="voffset2">
      <label class="text-muted no-margin">
        <small>{{'created-on' | translate}}</small>
      </label>
      <div>
        <span>{{data.details.document.timestamps.created | amDateFormat : 'lll'}}</span>
      </div>
    </div>
    <div class="voffset2">
      <label class="text-muted no-margin">
        <small>{{'last-modified' | translate}}</small>
      </label>
      <div>
        <span>{{data.details.document.timestamps.lastUpdate | amDateFormat : 'lll'}}</span>
      </div>
    </div>

    <div ng-if="isFile(data.details.document)" class="voffset2">
      <div ng-if="data.details.document.attachment.type">
        <label class="text-muted no-margin">
          <small>{{'type' | translate}}</small>
        </label>
        <div>
          <span>{{data.details.document.attachment.type}}</span>
        </div>
      </div>

      <div ng-show="hasLocalizedValue(data.details.document.attachment.description)"
           class="voffset2">
        <label class="text-muted no-margin">
          <small>{{'description' | translate}}</small>
        </label>
        <div>
          <span>{{getLocalizedValue(data.details.document.attachment.description)}}</span>
        </div>
      </div>
    </div>
  </div>
</div>
