<div>
  <div class="visible-print" print-friendly-view></div>
  <div class="hidden-print">
    <div ng-if="headerTemplateUrl" ng-include="headerTemplateUrl"></div>

    <obiba-alert id="DataAccessAmendmentViewController"></obiba-alert>

    <p class="help-block pull-left"><span translate>created-by</span>
      <span ng-if="!actions.canViewProfile('mica-data-access-officer')">
         {{getFullName(requestEntity.profile) || requestEntity.applicant}}
      </span>      
      <a href ng-click="userProfile(requestEntity.profile)"
          ng-if="actions.canViewProfile('mica-data-access-officer')">
        {{getFullName(requestEntity.profile) || requestEntity.applicant}}</a>,
      <span title="{{requestEntity.timestamps.created | amDateFormat: 'lll'}}">{{requestEntity.timestamps.created | amCalendar}}</span>
      <span class="label label-success">{{requestEntity.status | translate}}</span>
    </p>

    <div class="pull-right">
      <a ng-click="submit()"
        ng-if="actions.canEditStatus(requestEntity) && nextStatus.canSubmit(requestEntity)"
        class="btn btn-info" translate>submit
      </a>
      <a ng-click="reopen()"
        ng-if="actions.canEditStatus(requestEntity) && nextStatus.canReopen(requestEntity)"
        class="btn btn-info" translate>reopen
      </a>
      <a ng-click="review()"
        ng-if="actions.canEditStatus(requestEntity) && nextStatus.canReview(requestEntity)"
        class="btn btn-info" translate>review
      </a>
      <a ng-click="conditionallyApprove()"
         ng-if="actions.canEditStatus(requestEntity) && nextStatus.canConditionallyApprove(requestEntity)"
         class="btn btn-info" translate>conditionallyApprove
      </a>
      <a ng-click="approve()"
        ng-if="actions.canEditStatus(requestEntity) && nextStatus.canApprove(requestEntity)"
        class="btn btn-info" translate>approve
      </a>
      <a ng-click="reject()"
        ng-if="actions.canEditStatus(requestEntity) && nextStatus.canReject(requestEntity)"
        class="btn btn-info" translate>reject
      </a>
      <a ng-href="#{{entityUrl}}/edit"
        ng-if="actions.canEdit(requestEntity)"
        class="btn btn-primary" title="{{'edit' | translate}}">
        <i class="fa fa-pencil-square-o"></i>
      </a>
      <a ng-if="dataAccessForm.pdfDownloadType !== 'Template'" ng-click="printForm()"
         class="btn btn-default" title="{{'global.print' | translate}}">
        <i class="fa fa-print"></i> <span translate>global.print</span>
      </a>
      <a ng-if="dataAccessForm.pdfDownloadType === 'Template'" target="_self" href="{{requestDownloadUrl}}" class="btn btn-default">
        <i class="fa fa-download"></i> <span>{{config.downloadButtonCaption || 'download' | translate}}</span>
      </a>
      <a ng-click="delete()"
        ng-if="actions.canDelete(requestEntity)"
        class="btn btn-danger" title="{{'delete' | translate}}">
        <i class="fa fa-trash-o"></i>
      </a>
    </div>

    <div class="clearfix"></div>

    <form id="request-form" name="forms.requestForm">
      <obiba-schema-form-renderer model="model" schema-form="dataAccessForm" read-only="true"></obiba-schema-form-renderer>
    </form>
  </div>
</div>