<div>
  <!--<h2 translate>search</h2>-->
  <div ng-if="headerTemplateUrl" ng-include="headerTemplateUrl"></div>

  <obiba-alert id="SearchController"></obiba-alert>

  <!-- Classifications region -->
  <div>
    <!--<div>-->
    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-6">
        <script type="text/ng-template" id="customTemplate.html">
          <a ng-if="match.model.id">
            <span title="{{match.model.target + '-classifications' | translate}}">
              <i class="{{'i-obiba-' + match.model.target}}"></i>
            </span>
            <span title="{{match.model.itemDescription}}">{{match.model.itemTitle}}</span>
            <small class="help-block no-margin hoffset3" title="{{match.model.itemParentDescription}}">
              {{match.model.itemParentTitle}}
            </small>
          </a>
          <a ng-if="!match.model.id" class="{{match.model.status}}">
            <small class="help-block no-margin">
              {{match.model.message}}
            </small>
          </a>
        </script>
        <a href>
        <span class="input-group input-group-sm no-padding-top">
          <input type="text" ng-model="selectedCriteria" placeholder="Search for criteria"
            uib-typeahead="criteria for criteria in searchCriteria($viewValue)"
            typeahead-min-length="2"
            typeahead-loading="documents.search.active"
            typeahead-template-url="customTemplate.html"
            typeahead-on-select="selectCriteria($item)"
            class="form-control">
          <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>
        </span>
        </a>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-3"></div>
      <div class="col-xs-6">
        <ul class="nav nav-pills">
          <li ng-show="settingsDisplay.variables.showVariablesSearchTab" ng-class="{'active': taxonomies.target === 'variable' && taxonomiesShown}"
            title="{{'variable-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('variable')" translate>variables</a>
          </li>
          <li ng-show="settingsDisplay.datasets.showDatasetsSearchTab" ng-class="{'active': taxonomies.target === 'dataset' && taxonomiesShown}"
            title="{{'dataset-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('dataset')" translate>datasets</a>
          </li>
          <li ng-show="settingsDisplay.studies.showStudiesSearchTab" ng-class="{'active': taxonomies.target === 'study' && taxonomiesShown}"
            title="{{'study-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('study')" translate>studies</a>
          </li>
          <li ng-show="settingsDisplay.networks.showNetworksSearchTab" ng-class="{'active': taxonomies.target === 'network' && taxonomiesShown}"
            title="{{'network-classifications' | translate}}">
            <a ng-click="selectTaxonomyTarget('network')" translate>networks</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="taxonomies" class="collapse">
      <div ng-include="'search/views/taxonomies-view.html'"></div>
    </div>
  </div>

  <!-- Search criteria region -->
  <div class="voffset4">
    <div class="row voffset4">
      <div class="col-xs-12">
        <div criteria-panel criteria="search.criteria"></div>
      </div>
    </div>
  </div>

  <!-- Results region -->
  <div>
    <result-panel type="search.type" dto="search.result" on-type-changed="onTypeChanged"></result-panel>
  </div>
</div>
