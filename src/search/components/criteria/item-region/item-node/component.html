<span>
  <span ng-if="item.children.length > 0">
    <criteria-leaf item="item.children[0]" parent-type="$parent.item.type" query="query" advanced="advanced"></criteria-leaf>

    <div class="btn-group voffset1" ng-show="$parent.advanced" uib-dropdown>
      <button type="button" class="btn btn-default btn-xs" uib-dropdown-toggle>
        {{item.type | translate}}
        <span class="caret"></span>
      </button>
      <ul uib-dropdown-menu role="menu">
        <li role="menuitem">
          <a href ng-click="updateLogical('or')" translate>or</a>
        </li>
        <li role="menuitem">
          <a href ng-click="updateLogical('and')" translate>and</a>
        </li>
      </ul>
    </div>
    <criteria-leaf item="item.children[1]" parent-type="$parent.item.type" query="query" advanced="advanced"></criteria-leaf>

  </span>
  <span ng-if="item.children.length === 0">
    <criteria-leaf item="item" parent-type="item.parent.type" query="query" advanced="advanced"></criteria-leaf>
  </span>
</span>