<div id="{{criterion.id.replace('.','-')}}-dropdown-{{timestamp}}" class="{{'btn-group voffset1 btn-' + criterion.target}}" ng-class='{open: state.open}'
     ng-keyup="onKeyup($event)">

  <span ng-if="VocabularyService.isFacettedVocabulary(criterion.vocabulary)" ng-class='{open: state.open}'>
  <button class="{{'btn btn-xs dropdown btn-' + criterion.target}}"
          ng-click="openDropdown()">
    <span uib-popover="{{localize(criterion.vocabulary.description ? criterion.vocabulary.description : criterion.vocabulary.title)}}"
          popover-title="{{criterion.vocabulary.description ? localize(criterion.vocabulary.title) : null}}"
          popover-placement="bottom"
          popover-trigger="'mouseenter'">
    <i class="fa fa-info-circle"> </i>
  </span>
    <span title="{{localizeCriterion()}}" test-ref="search-criterion">
    {{truncate(localizeCriterion())}}
    </span>
    <span class='fa fa-caret-down'></span>
  </button>
  <button class='btn btn-xs btn-default' ng-click='remove(criterion.id)'>
    <span class='fa fa-times'></span>
  </button>

  <match-criterion ng-if="VocabularyService.isMatchVocabulary(criterion.vocabulary)" criterion="criterion" query="query"
                   state="state"></match-criterion>

  <string-criterion-terms
          ng-if="VocabularyService.isTermsVocabulary(criterion.vocabulary) || VocabularyService.isRangeVocabulary(criterion.vocabulary)"
          criterion="criterion" query="query" state="state"></string-criterion-terms>

  <numeric-criterion ng-if="VocabularyService.isNumericVocabulary(criterion.vocabulary)" criterion="criterion" query="query"
                     state="state"></numeric-criterion>
</span>
</div>